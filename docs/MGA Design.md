# MGA Design

## Terms
### MGA Axis:  
- The general description of the inputs to diversify
- **DIMENSION**: number of categories.  This defines the dimensionality of the convex hull
- Notions for possible Axis:
  - Techs:  All(?) techs
  - Sectors:  Does this make sense?
  - Category/Subcategory:  The Fundamental idea
  - A selection of `TechGroup` from data
  - Emissions:  Different types
  - Resilience:  Some combo of storage & capacity factor & such
### `Axis Vector`  
- Directional unit vector within the axis space
- **DIMENSION** = dimensionality of the MGA Axis
- This is a possible exploration direction within the MGA Axis space
- `Hull Norm`:  An `Axis Vector` that is normal to a facet on the convex hull
  - Hull Norms are generated by the convex hull routine
  - Must be checked for redundancy, especially when re-creating the hull from points
### `Expression Vector`
- **DIMENSION**: The total number of variables chosen within the `Vector Manager` to capture output.  This is `sample dimension`.
- Generated by the `Vector Manager`
- `Variable Vector`:  An `Expression Vector` of model variables (only) selected for analysis.  
- `Input Vector`
  - A vector (or sum) of coefficients * variables from the variable vector
  - Used as the Objective expression in the optimization
- `Output Vector`
  - A vector of variables (containing solution values) from an optimization run
### Point
- The outcome of an optimization represented in Axis space
- Can be used to define points on the Convex Hull (if used)

### Pointing Scheme
- The logic that determines new `axis vectors` for exploration
- To be implemented by the `Vector Manager`
- Options:
  - Hull Expansion:  Use the `hull norm` vectors as path for exploration
  - Random:  Random unit vectors in the MGA Axis space

## Output objectives:

- Look at near-optimal solutions that are diverse
- What are metrics?
  - Likely impossible to capture full output tables for any significant
number of runs
  - Flow out?  Cost?  Emissions?
  - Almost certainly capacity built
- What are reasonable aggregation schemes to capture summary values

## What kind of diversity:
- How are outcomes diverse from each other?
- Capacity of individual techs?  (likely too granular)
- Capacity of groups of techs
  - Group by?  We have sector/catagory/sub-category
  - Sector is probably a separate animal
- Flow at key chokepoints?
  - How would you find chokepoints?
- Emissions type/quantity?
  - range of emissions possible might be interesting
- Resiliency?
  - spare capacity against ___?
    - Reserve margins
    - Capacity Factors
  - aggregate storage
- Imports vs. nationalized vs. Exchange Techs
  - "self sufficiency"
  - reliance on imported commodities
  - How to capture raw materials needed for high-demand national things
    (battery storage)
- What are logical ways to label runs?  Or just a simple index?

## Single vector MGA

- How much more in one direction?

## Outputs
- Perhaps save the "weighting" index to a table for each run
to make individual points reproducible to get full output?
- What do MGA output summary results look like...?

